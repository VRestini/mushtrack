<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MushTrack Dashboard</title>
  <link rel="stylesheet" href="Dashtrack.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>
  <div class="menu_hamburger">
    <img src="img/logo_mush.png" alt="Logo MushTrack"><br><br>
    <button id="toggleSidebar" class="menu-btn">☰</button>

    <div class="sidebar" id="sidebar">

      <ul>
        <li>Cadastro estufas</li>
        <li>Estágio estufa</li>
        <li>Sensores</li>
        <li>Configurações</li>
      </ul>
    </div>
  </div>

  <div class="main">
    <div class="top_bar">
      <a href=""><img src="img/icon_home.png" alt=""></a><a href="">
        <h2>Início</h2>
      </a><a href="">
        <h2>| Dashtrack</h2>
      </a>
    </div>

    <div class="indicator-group">
      <div class="indicator">
        <canvas id="umidadeAtual" width="100" height="100"></canvas>
        <p>Umidade Atual<br><strong>85%</strong></p>
      </div>
      <div class="indicator">
        <canvas id="umidadeIdeal" width="100" height="100"></canvas>
        <p>Umidade Ideal<br><strong>95%</strong></p>
      </div>
      <div class="indicator">
        <canvas id="alertas" width="100" height="100"></canvas>
        <p>Quantas vezes no mês atingiu 29°C<br><strong>6</strong></p>
      </div>
      <div class="indicator">
        <canvas id="temperaturaIdeal" width="100" height="100"></canvas>
        <p>Temperatura Ideal<br><strong>25°C</strong></p>
      </div>
    </div>

    <div class="charts">
      <div class="chart-card">
        <h3>Champignon Umidade</h3>
        <canvas id="barChart"></canvas>
      </div>
      <div class="chart-card">
        <h3>Champignon Temperatura</h3>
        <canvas id="lineChart"></canvas>
      </div>
    </div>
  </div>

  <div class="menu_estufas">
    <a href="../Dashboard/Dashtrack.html" class="card_link">
      <div class="estufas">
        <div class="estufa_shimeji">
          <span>Shimeji</span>
          <img src="img/shimeji_card.png" alt="shimeji" />
        </div>
    </a>

    <a href="../Dashboard/DashtrackChampignon.html" class="card_link">
      <div class="estufa_card">
        <span>Champignon de Paris</span>
        <img src="img/champignon_card.png" alt="champignon" />
      </div>
    </a>

    <a href="../Dashboard/DashtrackShiitake.html" class="card_link">
      <div class="estufa_card">
        <span>Shiitake</span>
        <img src="img/shiitake_card.png" alt="shitake" />
      </div>
    </a>
  </div>
  </div>

  <footer>
    © Copyright MushTrack. Todos os direitos reservados
  </footer>

  <script>

    const alternarBtn = document.getElementById('toggleSidebar');
    const lateralBar = document.getElementById('sidebar');

    alternarBtn.addEventListener('click', () => {
      lateralBar.classList.toggle('hidden');
    });
    const chartOptions = {
      cutout: '60%',
      responsive: false,
      plugins: {
        legend: { display: false }
      }
    };

    new Chart(document.getElementById('umidadeAtual'), {
      type: 'doughnut',
      data: { labels: ['Usado', 'Faltante'], datasets: [{ data: [85, 15], backgroundColor: ['#77492b', '#f2e9e4'] }] },
      options: chartOptions
    });
    new Chart(document.getElementById('umidadeIdeal'), {
      type: 'doughnut',
      data: { labels: ['Usado', 'Faltante'], datasets: [{ data: [95, 10], backgroundColor: ['#77492b', '#f2e9e4'] }] },
      options: chartOptions
    });
    new Chart(document.getElementById('alertas'), {
      type: 'doughnut',
      data: { labels: ['Eventos', 'Restante'], datasets: [{ data: [1, 10], backgroundColor: ['#77492b', '#f2e9e4'] }] },
      options: chartOptions
    });
    new Chart(document.getElementById('temperaturaIdeal'), {
      type: 'doughnut',
      data: { labels: ['Ideal', 'Outros'], datasets: [{ data: [25, 5], backgroundColor: ['#77492b', '#f2e9e4'] }] },
      options: chartOptions
    });

    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: [
      '21/04/25 08:00', 
      '22/04/25 08:00', 
      '23/04/25 08:00', 
      '24/04/25 08:00', 
      '25/04/25 08:00'
    ],
        datasets: [{
          label: 'Umidade (%)',
          data: [80, 90, 85, 95, 88],
          backgroundColor: '#77492b'
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });

    new Chart(document.getElementById('lineChart'), {
      type: 'line',
      data: {
        labels: ['08:00', '09:00', '10:00', '11:00', '12:00'],
        datasets: [{
          label: 'Temperatura (°C)',
          data: [16, 22, 21, 23, 28],
          borderColor: '#77492b',
          fill: false,
          tension: 0.3
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        scales: {
          y: {
            beginAtZero: true,
            max: 35
          }
        }
      }
    });
  </script>
</body>

</html>